<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_09) on Mon Feb 04 00:18:46 PST 2013 -->
<title>TeleSignRequest</title>
<meta name="date" content="2013-02-04">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="TeleSignRequest";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TeleSignRequest.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/telesign/util/PhoneUtil.html" title="class in com.telesign.util"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/telesign/util/TeleSignRequest.html" target="_top">Frames</a></li>
<li><a href="TeleSignRequest.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.telesign.util</div>
<h2 title="Class TeleSignRequest" class="title">Class TeleSignRequest</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.telesign.util.TeleSignRequest</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">TeleSignRequest</span>
extends java.lang.Object</pre>
<div class="block">Copyright (c) TeleSign Corporation 2012.
        License: MIT
        Support email address "support@telesign.com"
        Author: jweatherford</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../com/telesign/util/TeleSignRequest.html#TeleSignRequest(java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String)">TeleSignRequest</a></strong>(java.lang.String&nbsp;base,
               java.lang.String&nbsp;resource,
               java.lang.String&nbsp;method,
               java.lang.String&nbsp;customer_id,
               java.lang.String&nbsp;secret_key)</code>
<div class="block">The TeleSignRequest is the base for which all the TeleSign API requests.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/telesign/util/TeleSignRequest.html#addHeader(java.lang.String, java.lang.String)">addHeader</a></strong>(java.lang.String&nbsp;key,
         java.lang.String&nbsp;value)</code>
<div class="block">Add a header to this TeleSign Request.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/telesign/util/TeleSignRequest.html#addParam(java.lang.String, java.lang.String)">addParam</a></strong>(java.lang.String&nbsp;key,
        java.lang.String&nbsp;value)</code>
<div class="block">Add a parameter to the query String.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../com/telesign/util/TeleSignRequest.html#executeRequest()">executeRequest</a></strong>()</code>
<div class="block">Sign and make the TeleSign Request to the url that was set on this request.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.Map&lt;java.lang.String,java.lang.String&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/telesign/util/TeleSignRequest.html#getAllHeaders()">getAllHeaders</a></strong>()</code>
<div class="block">Return a sorted list of all the headers.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.Map&lt;java.lang.String,java.lang.String&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/telesign/util/TeleSignRequest.html#getAllParams()">getAllParams</a></strong>()</code>
<div class="block">Return all the Query parameters set on this request.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../com/telesign/util/TeleSignRequest.html#getPostBody()">getPostBody</a></strong>()</code>
<div class="block">Get the POST body for this request</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.Map&lt;java.lang.String,java.lang.String&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/telesign/util/TeleSignRequest.html#getTsHeaders()">getTsHeaders</a></strong>()</code>
<div class="block">Return the TeleSign specific Headers set for this request</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/telesign/util/TeleSignRequest.html#setPostBody(java.lang.String)">setPostBody</a></strong>(java.lang.String&nbsp;post_body)</code>
<div class="block">Set the body of the request for POST requests</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TeleSignRequest(java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TeleSignRequest</h4>
<pre>public&nbsp;TeleSignRequest(java.lang.String&nbsp;base,
               java.lang.String&nbsp;resource,
               java.lang.String&nbsp;method,
               java.lang.String&nbsp;customer_id,
               java.lang.String&nbsp;secret_key)</pre>
<div class="block">The TeleSignRequest is the base for which all the TeleSign API requests.
 This class handles both GET and POST requests and the different signing
 methods for each. If specialized access or parameters are needed for the 
 API over the defaults given in the @see PhoneId class or @see Verify class 
 a custom request can be made using this class.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>base</code> - the base url of the request. This does not include parameters or the method
             of the call. Usually this is https://rest.telesign.com</dd><dd><code>resource</code> - the resource called off the base url. This is the extension off the base
                 of the url. Example "/v1/phoneid/standard/1234567890"</dd><dd><code>method</code> - the method of the request. one of GET or POST</dd><dd><code>customer_id</code> - the TeleSign provided customer_id</dd><dd><code>secret_key</code> - the TeleSign provided secret_key</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="addHeader(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addHeader</h4>
<pre>public&nbsp;void&nbsp;addHeader(java.lang.String&nbsp;key,
             java.lang.String&nbsp;value)</pre>
<div class="block">Add a header to this TeleSign Request. If the header starts with
 X-TS- it is added to a special list of TeleSign headers. This
 also checks for the presence of X-TS-Date to correctly set the
 date for the request whether the Specialize TeleSign Date header
 is set or if it should be generated at request time</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - the name of the header</dd><dd><code>value</code> - the value to set for the heaader.</dd></dl>
</li>
</ul>
<a name="addParam(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addParam</h4>
<pre>public&nbsp;void&nbsp;addParam(java.lang.String&nbsp;key,
            java.lang.String&nbsp;value)</pre>
<div class="block">Add a parameter to the query String. Holds the parameters in a map
 until it is time to sign them</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - the name of the parameter</dd><dd><code>value</code> - the value of the parameter</dd></dl>
</li>
</ul>
<a name="setPostBody(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPostBody</h4>
<pre>public&nbsp;void&nbsp;setPostBody(java.lang.String&nbsp;post_body)</pre>
<div class="block">Set the body of the request for POST requests</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>post_body</code> - </dd></dl>
</li>
</ul>
<a name="getPostBody()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPostBody</h4>
<pre>public&nbsp;java.lang.String&nbsp;getPostBody()</pre>
<div class="block">Get the POST body for this request</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the string value of the POST request</dd></dl>
</li>
</ul>
<a name="getAllHeaders()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllHeaders</h4>
<pre>public&nbsp;java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;getAllHeaders()</pre>
<div class="block">Return a sorted list of all the headers.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>a sorted map of all the headers for this request</dd></dl>
</li>
</ul>
<a name="getTsHeaders()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTsHeaders</h4>
<pre>public&nbsp;java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;getTsHeaders()</pre>
<div class="block">Return the TeleSign specific Headers set for this request</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the map of the TeleSign specific headers. This map returns a sorted order</dd></dl>
</li>
</ul>
<a name="getAllParams()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllParams</h4>
<pre>public&nbsp;java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;getAllParams()</pre>
<div class="block">Return all the Query parameters set on this request.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>a map containing all the query parameters set for this request</dd></dl>
</li>
</ul>
<a name="executeRequest()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>executeRequest</h4>
<pre>public&nbsp;java.lang.String&nbsp;executeRequest()
                                throws java.io.IOException</pre>
<div class="block">Sign and make the TeleSign Request to the url that was set on this request.
 The signature is then calculated based on the headers, post parameters and 
 resource as described below.
 
        Authorization = "TSA" + " " + Customer ID + ":" + Signature

        Signature = Base64( HMAC-SHA1( YourTeleSignAPIKey, UTF-8-Encoding-Of( StringToSign ) ) )

        StringToSign = HTTP-method + "\n" +
           Content-Type + "\n" +
           Date + "\n" +
           CanonicalizedTsHeaders +
           CanonicalizedPOSTVariables +
           CanonicalizedResource


 <p>
 <a href="https://portal.telesign.com/docs/content/rest-auth.html">https://portal.telesign.com/docs/content/rest-auth.html</a></div>
<dl><dt><span class="strong">Returns:</span></dt><dd>A string containing the JSON string response that was returned from the html request</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TeleSignRequest.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/telesign/util/PhoneUtil.html" title="class in com.telesign.util"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/telesign/util/TeleSignRequest.html" target="_top">Frames</a></li>
<li><a href="TeleSignRequest.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
